<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Project Status Dashboard</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for the "Inter" font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* Custom scrollbar for aesthetic */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div id="app" class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-8 p-6 bg-white shadow-lg rounded-xl">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-blue-900">DAILY PROJECT STATUS UPDATE</h1>
            <p class="text-lg text-gray-600 mt-1">Week 43 Report - Prepared: <span id="report-date"></span></p>
        </header>

        <!-- KPI Dashboard Section -->
        <section class="mb-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">Vessel Status & Key Performance Indicators (KPIs)</h2>
            <div id="kpi-dashboard" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- KPI cards will be rendered here -->
            </div>
        </section>

        <!-- Agenda and Project Updates (Side-by-Side on Desktop) -->
        <div class="lg:grid lg:grid-cols-3 lg:gap-8 mb-10">
            <!-- Agenda -->
            <section class="lg:col-span-1 mb-8 lg:mb-0">
                <div class="bg-white p-6 shadow-lg rounded-xl h-full">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">Meeting Agenda</h2>
                    <ol id="agenda-list" class="space-y-3">
                        <!-- Agenda items will be rendered here -->
                    </ol>
                </div>
            </section>

            <!-- Project Updates -->
            <section class="lg:col-span-2">
                <div class="bg-white p-6 shadow-lg rounded-xl h-full">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">Key Project Updates</h2>
                    <ul id="project-updates-list" class="space-y-4">
                        <!-- Project updates will be rendered here -->
                    </ul>
                </div>
            </section>
        </div>


        <!-- Detailed Vessel Status Table -->
        <section class="mb-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">Vessels On Dock - Detailed Status (15 Total)</h2>
            <div class="bg-white p-4 shadow-lg rounded-xl overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Vessel Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Docked On</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                            <th class="px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Age (Days)</th>
                        </tr>
                    </thead>
                    <tbody id="vessel-table-body" class="bg-white divide-y divide-gray-200">
                        <!-- Vessel rows will be rendered here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Pending PR/MTR Status Table -->
        <section class="mb-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">Critical Pending PR/MTR Status</h2>
            <div class="bg-white p-4 shadow-lg rounded-xl overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Vessel</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Unit</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">PR/MTR</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Remarks / Action Required</th>
                        </tr>
                    </thead>
                    <tbody id="pr-table-body" class="bg-white divide-y divide-gray-200">
                        <!-- PR/MTR rows will be rendered here -->
                    </tbody>
                </table>
            </div>
        </section>

    </div>

    <script>
        // --- 1. DATA SOURCE: UPDATE THIS OBJECT DAILY ---
        const reportData = {
            date: "24 October 2025",
            agenda: [
                "Follow Up: Review and follow-up on all action items from the previous meeting.",
                "Customer Service Review: Detailed updates on external (docking, quotations, sales leads) and internal (new service requests, pending task allocation) customers.",
                "Planning Updates: Progress review for both external and internal vessel dry-docking (D/D) preparations and scheduling.",
                "Project Updates: Status of vessels currently on dry-dock, high-priority jobs, resource allocation, and challenges/solutions.",
                "Summary & Actions: Defining clear action items, assigning designations, and confirming next steps.",
                "Closing: General discussion and addressing any other open issues."
            ],
            kpis: {
                totalVessels: 15,
                longestDockingDays: 1527,
                internalVessels: 11,
                externalVessels: 4
            },
            vesselStatus: [
                { id: 1, name: "MAHAA KORAKALI", customer: "MTCC ERD", docked: "16-Aug-21", type: "INTERNAL", age: 1527 },
                { id: 2, name: "NIYAAMA 2", customer: "MTCC TSD", docked: "10-Apr-23", type: "INTER-DIVISION", age: 925 },
                { id: 3, name: "YANMAR BOAT", customer: "MTCC TRD", docked: "3-Aug-23", type: "INTER-DIVISION", age: 810 },
                { id: 4, name: "SL-01", customer: "MTCC TSD", docked: "21-Jul-25", type: "INTER-DIVISION", age: 92 },
                { id: 5, name: "NIYAAMA 5", customer: "MTCC TSD", docked: "16-Aug-25", type: "INTER-DIVISION", age: 66 },
                { id: 6, name: "RTL 107", customer: "MTCC TSD", docked: "25-Aug-25", type: "INTER-DIVISION", age: 57 },
                { id: 7, name: "RTL 106", customer: "MTCC TSD", docked: "25-Sep-25", type: "INTER-DIVISION", age: 26 },
                { id: 8, name: "SL-07", customer: "MTCC TSD", docked: "07-OCT-25", type: "INTER-DIVISION", age: 14 },
                { id: 9, name: "AILA", customer: "MTCC TSD", docked: "19-OCT-25", type: "INTER-DIVISION", age: 3 },
                { id: 10, name: "JUPITER", customer: "MTCC TSD", docked: "21-OCT-25", type: "INTER-DIVISION", age: 1 },
                { id: 11, name: "EXPRESS-2", customer: "MTCC TSD", docked: "22-OCT-25", type: "INTER-DIVISION", age: 0 },
                { id: 12, name: "LIBRA", customer: "STATE TRADING ORGANIZATION PLC", docked: "23-Sep-25", type: "EXTERNAL", age: 28 },
                { id: 13, name: "MALAAHAA", customer: "SEAMAT PVT LTD", docked: "19-OCT-25", type: "EXTERNAL", age: 2 },
                { id: 14, name: "VIDHUVARU", customer: "WAVE TIDE MALDIVES PVT LTD", docked: "19-Oct-25", type: "EXTERNAL", age: 2 },
                { id: 15, name: "HEALTH-1", customer: "URH", docked: "21-Oct-25", type: "EXTERNAL", age: 2 },
            ],
            projectUpdates: [
                {
                    title: "WO System (Target 31 Dec 2025)",
                    details: "Work has resumed as of 4th October 2025. Galley and washroom construction are currently ongoing."
                },
                {
                    title: "Management Approval Status",
                    details: "Purchase Order (PO) has been approved by finance; \u2022\u00A0\u00A0\u00A0\textbf{status on management approval is still pending}."
                },
            ],
            pendingPR: [
                { vessel: "22M FERRY", unit: "CPS", pr: "PR078375", remarks: "Electrical Items. No further update provided." },
                { vessel: "SL-05", unit: "OSU", pr: "MTR-029070", remarks: "\u2022\u00A0\u00A0\u00A0\textbf{Partial Delivery:} 21 out of 55 items received; 5 items partially received. \u2022\u00A0\u00A0\u00A0Original order placed via Airfreight on 14-09-2025." },
                { vessel: "RTL 107", unit: "MRW", pr: "MTR-029148", remarks: "\u2022\u00A0\u00A0\u00A0\textbf{Lead Time Issue:} 11 items have a lead time exceeding three months. \u2022\u00A0\u00A0\u00A0Remaining items are awaiting shipping documents. Airfreight requested." },
                { vessel: "RTL 107", unit: "MRW", pr: "PR077318", remarks: "\u2022\u00A0\u00A0\u00A0\textbf{Payment Pending:} Batteries and battery cables (0/13 items delivered) are pending payment. \u2022\u00A0\u00A0\u00A0All other items have raised POs, except for the 1\" spring hose." },
                { vessel: "RTL 106", unit: "MRW", pr: "MTR-029314", remarks: "Awaiting supplier confirmation on lead time." },
                { vessel: "RTL 106", unit: "MRW", pr: "MTR-029731", remarks: "Order for ROD ASSY, CONNECTING is pending." },
            ]
        };
        // --- END DATA SOURCE ---

        // --- 2. RENDERING FUNCTIONS ---

        function renderHeader() {
            document.getElementById('report-date').textContent = reportData.date;
        }

        function renderKPIs() {
            const container = document.getElementById('kpi-dashboard');
            const kpis = [
                { label: "Total Vessels on Dock", value: reportData.kpis.totalVessels, color: "bg-blue-500" },
                { label: "Longest Docking Age (Days)", value: reportData.kpis.longestDockingDays, color: "bg-red-500" },
                { label: "Internal / Inter-Division Mix", value: reportData.kpis.internalVessels + " Vessels", color: "bg-green-500" },
                { label: "External Customer Mix", value: reportData.kpis.externalVessels + " Vessels", color: "bg-yellow-500" }
            ];

            kpis.forEach(kpi => {
                const card = `
                    <div class="p-6 text-white ${kpi.color} rounded-xl shadow-md transform transition duration-300 hover:scale-[1.02]">
                        <p class="text-sm opacity-80">${kpi.label}</p>
                        <p class="text-3xl font-bold mt-1">${kpi.value}</p>
                    </div>
                `;
                container.innerHTML += card;
            });
        }

        function renderAgenda() {
            const list = document.getElementById('agenda-list');
            list.innerHTML = reportData.agenda.map((item, index) => `
                <li class="flex items-start">
                    <span class="font-bold text-blue-700 mr-2">${index + 1}.</span>
                    <p class="text-gray-700">${item}</p>
                </li>
            `).join('');
        }

        function renderProjectUpdates() {
            const list = document.getElementById('project-updates-list');
            list.innerHTML = reportData.projectUpdates.map(update => `
                <li class="border-l-4 border-blue-500 pl-4 py-2 bg-blue-50/50 rounded-lg">
                    <p class="font-semibold text-gray-800">${update.title}</p>
                    <p class="text-sm text-gray-600">${update.details}</p>
                </li>
            `).join('');
        }

        function renderVesselTable() {
            const tbody = document.getElementById('vessel-table-body');
            tbody.innerHTML = reportData.vesselStatus.map(vessel => {
                // Determine row color based on type and age
                let rowClasses = 'whitespace-nowrap text-sm text-gray-700';
                let ageClass = 'text-gray-700';
                if (vessel.type === 'EXTERNAL') {
                    rowClasses += ' bg-yellow-50/50';
                }
                if (vessel.age > 800) {
                    ageClass = 'text-red-600 font-semibold';
                } else if (vessel.age > 50) {
                    ageClass = 'text-orange-600';
                }

                return `
                    <tr class="${rowClasses}">
                        <td class="px-3 py-3 font-medium text-center">${vessel.id}</td>
                        <td class="px-6 py-3 font-medium text-blue-800">${vessel.name}</td>
                        <td class="px-6 py-3">${vessel.customer}</td>
                        <td class="px-6 py-3">${vessel.docked}</td>
                        <td class="px-6 py-3">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${vessel.type === 'EXTERNAL' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}">
                                ${vessel.type.replace('-', ' ')}
                            </span>
                        </td>
                        <td class="px-3 py-3 text-center ${ageClass}">${vessel.age}</td>
                    </tr>
                `;
            }).join('');
        }

        function renderPRTable() {
            const tbody = document.getElementById('pr-table-body');
            tbody.innerHTML = reportData.pendingPR.map(item => {
                // Highlight critical remarks
                let remarksHtml = item.remarks;
                if (item.remarks.includes('Payment Pending') || item.remarks.includes('Lead Time Issue')) {
                    remarksHtml = `<span class="text-red-600 font-medium">${item.remarks}</span>`;
                }

                return `
                    <tr>
                        <td class="px-4 py-3 whitespace-nowrap font-medium text-blue-800">${item.vessel}</td>
                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">${item.unit}</td>
                        <td class="px-4 py-3 whitespace-nowrap text-sm font-mono">${item.pr}</td>
                        <td class="px-4 py-3 text-sm text-gray-700 max-w-lg leading-relaxed">${remarksHtml}</td>
                    </tr>
                `;
            }).join('');
        }

        // --- 3. INITIALIZATION ---
        window.onload = function() {
            renderHeader();
            renderKPIs();
            renderAgenda();
            renderProjectUpdates();
            renderVesselTable();
            renderPRTable();
        };

    </script>

</body>
</html>
